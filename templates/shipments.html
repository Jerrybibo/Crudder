{% extends "base.html" %}
{% block title %}Crudder - Shipments{% endblock %}
{% block sidebar %}
  <li class="nav-item">
    <a class="nav-link" href="/index">
      <span data-feather="home"></span>
      Dashboard
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" aria-current="page" href="/shipments">
      <span data-feather="truck"></span>
      Shipments
    </a>
    <ul class="nav flex-column">
      <li class="nav-item"><a class="nav-link" href="/shipments/create">
        <span data-feather="plus-square"></span>
        Create new
      </a>
      </li>
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/manage">
      <span data-feather="check-square"></span>
      Manage
    </a>
  </li>
{% endblock %}
{% block header %}Shipments{% endblock %}
{% block task_buttons %}
  <a href="/shipments/create" class="btn btn-primary">Create New Shipment</a>
{% endblock %}
{% block content %}
  <div class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th scope="col">Shipment ID</th>
          <th scope="col">Item ID</th>
          <th scope="col">Item Name</th>
          <th scope="col">Qty. Change</th>
          <th scope="col">Timestamp</th>
        </tr>
      </thead>
      <tbody>
      {% for shipment in shipments %}
        <tr>
          <td>{{ shipment["shipment_id"] }}</td>
          <td>{{ shipment["item_id"] }}</td>
          <td>{{ shipment["name"] }}</td>
            {% if shipment["quantity"] < 0 %}
              <td><span class="text-success">+{{ shipment["quantity"] * -1 }}</span></td>
            {% else %}
              <td><span class="text-danger">{{ shipment["quantity"] * -1 }}</span></td>
            {% endif %}
          <td>{{ shipment["time_created"] }}</td>
        </tr>
      {% endfor %}</tbody>
    </table>
  </div>
{% endblock %}